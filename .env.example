# =============================================================================
# CIL Router v1.0.1 环境变量配置示例
# 复制此文件为 .env 并根据需要修改配置
# =============================================================================

# 服务器配置
HOST=0.0.0.0
PORT=8000

# 当前选择的供应商索引（从0开始）
CURRENT_PROVIDER_INDEX=0

# 超时配置（秒）
REQUEST_TIMEOUT=60
STREAM_TIMEOUT=120

# =============================================================================
# 鉴权配置（可选，不设置则不启用鉴权）
# =============================================================================
# 客户端必须使用此密钥才能访问服务
# 生产环境建议设置一个强密钥
# AUTH_KEY=your-secret-auth-key

# =============================================================================
# 限流配置（v1.0.1新功能）
# =============================================================================
# 是否启用限流功能（默认：false）
RATE_LIMIT_ENABLED=false

# 每分钟允许的请求数（默认：100）
# 建议根据实际需求调整：
# - 轻量使用：30-60 RPM
# - 中等使用：100-300 RPM  
# - 重度使用：500-1000 RPM
RATE_LIMIT_RPM=100

# 突发容量，允许短时间内超过平均速率的请求数（默认：10）
# 建议设置为 RPM 的 10-20%
RATE_LIMIT_BURST=10

# 是否信任代理头部获取真实IP（默认：true）
# true: 适用于Cloudflare、nginx等代理环境，使用CF-Connecting-IP等头部
# false: 直接使用连接IP，适用于无代理环境
RATE_LIMIT_TRUST_PROXY=true

# 供应商配置（PROVIDER_N_BASE_URL + PROVIDER_N_API_KEY 格式）
# 支持逗号分隔的多个URL和API Key，实现同供应商内部负载均衡
# URL和API Key数量必须一致，一一对应

# 供应商 0 - 单个端点示例
PROVIDER_0_BASE_URL=https://api.anthropic.com
PROVIDER_0_API_KEY=sk-ant-your-key-1

# 供应商 1 - 多个端点负载均衡示例
PROVIDER_1_BASE_URL=https://api.provider2.com,https://api2.provider2.com,https://backup.provider2.com
PROVIDER_1_API_KEY=your-key-2a,your-key-2b,your-key-2c

# 供应商 2 - 两个端点示例
PROVIDER_2_BASE_URL=https://api.provider3.com,https://api-backup.provider3.com
PROVIDER_2_API_KEY=your-key-3a,your-key-3b

# 添加更多供应商，继续使用 PROVIDER_3_*, PROVIDER_4_* 等格式
# 注意：
# 1. 索引必须连续，从0开始，中间不能有间断
# 2. 每个供应商的URL和API Key数量必须一致
# 3. 使用逗号分隔多个URL和Key，不要有多余的空格
# 4. 系统会自动对同供应商内的多个端点进行轮询负载均衡