# =============================================================================
# CIL Router v1.0.1 环境变量配置示例
# 复制此文件为 .env 并根据需要修改配置
# =============================================================================

# 服务器配置
HOST=0.0.0.0
PORT=8000

# 当前选择的供应商索引（从0开始）
CURRENT_PROVIDER_INDEX=0

# 超时配置（秒）
REQUEST_TIMEOUT=60
STREAM_TIMEOUT=120

# =============================================================================
# 鉴权配置（可选，不设置则不启用鉴权）
# =============================================================================
# 客户端必须使用此密钥才能访问服务
# 生产环境建议设置一个强密钥
# AUTH_KEY=your-secret-auth-key

# =============================================================================
# 限流配置（v1.0.1新功能）
# =============================================================================
# 是否启用限流功能（默认：false）
RATE_LIMIT_ENABLED=false

# 每分钟允许的请求数（默认：100）
# 建议根据实际需求调整：
# - 轻量使用：30-60 RPM
# - 中等使用：100-300 RPM  
# - 重度使用：500-1000 RPM
RATE_LIMIT_RPM=100

# 突发容量，允许短时间内超过平均速率的请求数（默认：10）
# 建议设置为 RPM 的 10-20%
RATE_LIMIT_BURST=10

# 是否信任代理头部获取真实IP（默认：true）
# true: 适用于Cloudflare、nginx等代理环境，使用CF-Connecting-IP等头部
# false: 直接使用连接IP，适用于无代理环境
RATE_LIMIT_TRUST_PROXY=true

# =============================================================================
# IP阻止配置（v1.0.1新功能）
# =============================================================================
# 是否启用IP阻止功能（默认：false）
IP_BLOCK_ENABLED=false

# 阻止IP列表文件路径（相对于项目根目录）
# 文件格式为JSON数组，例如：["192.168.1.100", "10.0.0.50"]
# 系统会每60秒检查一次文件是否有修改，自动重新加载
BLOCKED_IPS_FILE=app/data/blocked_ips.json

# =============================================================================
# 日志配置（v1.0.1新功能）
# =============================================================================
# 日志等级（默认：NONE）
# 可选值：NONE（无日志）, DEBUG（调试级别，记录所有信息）, INFO（信息级别）, WARNING（警告级别）, ERROR（错误级别）
# DEBUG级别会记录请求头、请求体、响应头、响应体等详细信息，不会模糊处理API Key
LOG_LEVEL=NONE

# 日志文件存储目录（相对于项目根目录）
# 日志文件会自动轮转，单个文件达到3MB后自动创建新文件，无限期保留
LOG_DIR=app/data/log

# 供应商配置（PROVIDER_N_BASE_URL + PROVIDER_N_API_KEY 格式）
# 支持逗号分隔的多个URL和API Key，实现同供应商内部负载均衡

# 供应商 0
PROVIDER_0_BASE_URL=https://api.anthropic.com
PROVIDER_0_API_KEY=sk-ant-your-key-here