# =============================================================================
# CIL Router v1.0.1 生产环境配置示例
# 复制此文件为 .env.prod 并根据实际需求修改配置
# =============================================================================

# 服务器配置
HOST=0.0.0.0
PORT=8000

# 当前选择的供应商索引（从0开始）
CURRENT_PROVIDER_INDEX=0

# 超时配置（生产环境推荐更短的超时时间）
REQUEST_TIMEOUT=30
STREAM_TIMEOUT=60

# =============================================================================
# 鉴权配置（生产环境强烈建议启用）
# =============================================================================
# 客户端必须使用此密钥才能访问服务
# 请使用强密钥，至少32位随机字符
AUTH_KEY=your-very-secure-production-key-at-least-32-chars

# =============================================================================
# 限流配置（生产环境推荐启用）
# =============================================================================
# 启用限流功能
RATE_LIMIT_ENABLED=true

# 生产环境推荐的限流设置（根据实际负载调整）
RATE_LIMIT_RPM=60
RATE_LIMIT_BURST=5

# 生产环境通常需要信任代理头部（Cloudflare、nginx等）
RATE_LIMIT_TRUST_PROXY=true

# =============================================================================
# 供应商配置（支持多端点负载均衡）
# =============================================================================
# 主供应商 - 支持多个端点负载均衡
PROVIDER_0_BASE_URL=https://api.anthropic.com
PROVIDER_0_API_KEY=sk-ant-your-production-key-1

# 备用供应商 - 多端点配置示例
# PROVIDER_1_BASE_URL=https://api.backup1.com,https://api.backup2.com
# PROVIDER_1_API_KEY=backup-key-1,backup-key-2

# 第三供应商
# PROVIDER_2_BASE_URL=https://api.provider3.com
# PROVIDER_2_API_KEY=provider3-key

# =============================================================================
# 生产环境注意事项
# =============================================================================
# 1. 请确保API密钥的安全性，定期轮换
# 2. 根据实际负载调整限流参数
# 3. 监控应用性能和错误日志
# 4. 建议使用HTTPS代理（nginx等）
# 5. 考虑设置防火墙规则限制访问源
# 6. 定期备份配置文件
# 7. 使用Docker Secrets或Kubernetes Secrets管理敏感信息